# Менеджер Расписания Мероприятий

Это fullstack-приложение, представляющее собой простой веб-интерфейс для управления расписанием мероприятий. Проект демонстрирует интеграцию FastAPI, Vue.js, PostgreSQL и очереди Beanstalkd с использованием Docker.

## Стек технологий

- **Backend**: Python 3.9, FastAPI
- **База данных**: PostgreSQL 13 (с `asyncpg` и `SQLAlchemy 2.0`)
- **Очередь сообщений**: Beanstalkd (с `greenstalk` для Python)
- **Frontend**: Vue 3 (Composition API) + Vite
- **Оркестрация**: Docker, Docker Compose

## Функционал

- **Добавление событий**: Пользователь может добавлять события через веб-интерфейс, указывая название, описание и дату/время.
- **Просмотр списка событий**: Все события отображаются в таблице.
- **Ручное завершение**: Событие в статусе `pending` можно завершить вручную нажатием кнопки.
- **Автоматическое завершение**: После создания каждое событие автоматически помечается как "завершённое" через 10 секунд. Этот процесс управляется фоновым обработчиком (worker), который получает задачи из очереди Beanstalkd.
- **Интеграция с внешним API**: При создании события его название и дата отправляются POST-запросом на `https://httpbin.org/post`.
- **Автообновление интерфейса**: Фронтенд автоматически обновляет список событий каждые 5 секунд, предоставляя пользователю визуальный таймер обратного отсчета до следующего обновления.

## Запуск проекта

Для запуска проекта необходимы установленные **Docker** и **Docker Compose**.

### 1. Клонирование репозитория

```bash
git clone https://github.com/GreatGleb/event-scheduler-fastapi-vue.git
cd event-scheduler-fastapi-vue
```

### 2. Сборка и запуск сервисов

Все сервисы (PostgreSQL, Beanstalkd, FastAPI сервер, Worker и Vue frontend) определены в файле `docker-compose.yml` и запускаются одной командой.

Выполните следующую команду в корневой папке проекта:

```bash
docker-compose up --build
```

Эта команда соберет Docker-образы для бэкенда и фронтенда и запустит все пять контейнеров в правильном порядке.

### 3. Доступ к приложению

После успешного запуска приложение будет доступно по следующим адресам:

-   **Веб-интерфейс (Frontend)**: `http://localhost:5173`
-   **Интерактивная документация API (Backend)**: `http://localhost:8000/docs`

### 4. Остановка проекта

Чтобы остановить все сервисы, нажмите `Ctrl+C` в терминале, где запущен `docker-compose`. Для полной остановки и удаления контейнеров и созданных Docker-сетей выполните:

```bash
docker-compose down```
Для удаления тома с данными PostgreSQL (полная очистка) используйте флаг `-v`:
```bash
docker-compose down -v
```

## Анализ временных затрат

Работа над проектом заняла ровно 3 часа.

Единственная задача, которая заняла больше времени, чем ожидалось — это первоначальная **настройка Docker-окружения**. Обеспечение корректного порядка запуска и стабильного взаимодействия пяти независимых сервисов (PostgreSQL, Beanstalkd, FastAPI, Worker, Vue) является нетривиальной задачей. В частности, была решена проблема "гонки состояний" (`race condition`), когда бэкенд мог запуститься раньше, чем база данных была готова принимать подключения. Эта задача была решена с помощью механизма `healthcheck` в `docker-compose.yml`, что гарантирует предсказуемый запуск всего стека. После того как окружение было полностью настроено, реализация основной бизнес-логики прошла быстро и без затруднений.